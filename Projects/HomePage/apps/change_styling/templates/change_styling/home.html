{% extends 'base.html' %}
{% load static %}

{% block jumbotron %}
	<h1>{{ current_app.name }}</h1>
	<p class="lead">{{ current_app.description|safe }}</p>
{% endblock %}

{% block content %}
	<div class="row thumbnail-flex">
		<div class="col-sm-6 col-md-4">
			<div class="thumbnail">
				<img data-src="" alt="100%x200" style="height: 200px; width: 100%; display: block;" src="{% static 'images/jumbotron.png' %}" data-holder-rendered="true">
				<div class="caption">
					<h3>Purple(default)</h3>
					<p>
						<form method="POST" action="{{ current_app.get_absolute_url }}">
							{% csrf_token %}
							<button type="button" class="btn btn-primary preview" data-css="/static/css/base.css">Preview</button>
							<input type="hidden" name="styling" value="">
							<button class="btn btn-default" type="submit">Apply</button>
						</form>
					</p>
				</div>
			</div>
		</div>

		<div class="col-sm-6 col-md-4">
			<div class="thumbnail">
				<img data-src="" alt="100%x200" style="height: 200px; width: 100%; display: block;" src="{% static 'images/jumbotron_blue.png' %}" data-holder-rendered="true">
				<div class="caption">
					<h3>Blue</h3>
					<p>
						<form method="POST" action="{{ current_app.get_absolute_url }}">
							{% csrf_token %}
							<button type="button" class="btn btn-primary preview" data-css="/static/css/base_blue.css">Preview</button>
							<input type="hidden" name="styling" value="_blue">
							<button class="btn btn-default" type="submit">Apply</button>
						</form>
					</p>
				</div>
			</div>
		</div>

		<div class="col-sm-6 col-md-4">
			<div class="thumbnail">
				<img data-src="" alt="100%x200" style="height: 200px; width: 100%; display: block;" src="{% static 'images/jumbotron_green.png' %}" data-holder-rendered="true">
				<div class="caption">
					<h3>Green</h3>
					<p>
						<form method="POST" action="{{ current_app.get_absolute_url }}">
							{% csrf_token %}
							<button type="button" class="btn btn-primary preview" data-css="/static/css/base_green.css">Preview</button>
							<input type="hidden" name="styling" value="_green">
							<button type="submit" class="btn btn-default">Apply</button>
						</form>
					</p>
				</div>
			</div>
		</div>
		
		<div class="col-sm-6 col-md-4">
			<div class="thumbnail">
				<img data-src="" alt="100%x200" style="height: 200px; width: 100%; display: block;" src="{% static 'images/jumbotron_brink_pink.png' %}" data-holder-rendered="true">
				<div class="caption">
					<h3>Brink Pink</h3>
					<p>
						<form method="POST" action="{{ current_app.get_absolute_url }}">
							{% csrf_token %}
							<button type="button" class="btn btn-primary preview" data-css="/static/css/base_brink_pink.css">Preview</button>
							<input type="hidden" name="styling" value="_brink_pink">
							<button type="submit" class="btn btn-default">Apply</button>
						</form>
					</p>
				</div>
			</div>
		</div>

	</div>
{% endblock %}

{% block javascript %}
<script type="text/javascript">
	$('.preview').on('click', function() {
		$('#base_stylesheet').attr('href', $(this).attr('data-css'));
	});

	// Alternative solutions
	// let nodes = document.querySelectorAll('.preview');

	// nodes.forEach(function(element, index, array) {
	// 	element.addEventListener('click', function() {
	// 		document.getElementById('base_stylesheet').href = this.attributes['data-css'].value;
	// 	})
	// })

	// for (let i=0; i<nodes.length; i++) {
	// 	nodes[i].addEventListener('click', function() {
	// 		document.getElementById('base_stylesheet').href = this.attributes['data-css'].value;
	// 	})
	// }
</script>
{% endblock %}
